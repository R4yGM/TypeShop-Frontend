import{u as _,r as n,b as L,c as e,j as a,C as p,n as A,B as u,L as D,o,p as g,q as E,D as c,s as f,t as F,v as w,A as y,w as v}from"./index.be2511ed.js";import{D as b,H as z}from"./default-layout.70cba8b9.js";import{F as S,a as H,b as W}from"./index.esm.689c57cc.js";import{R as q}from"./Row.a0fee04d.js";import{C as x}from"./Col.59196bc7.js";import{L as r}from"./ListGroup.aa39e984.js";import"./Navbar.0442e40b.js";import"./AbstractModalHeader.41641fa4.js";import"./Anchor.fde972e5.js";import"./Button.94d84030.js";import"./index.65f1d40b.js";import"./CardHeaderContext.cda22203.js";import"./useCallbackRef.6b9259cd.js";import"./iconBase.2f36b168.js";const X=()=>{const i=_(),[l,d]=n.exports.useState([]),[N,m]=n.exports.useState(!0);n.exports.useEffect(()=>{(async()=>{try{const s=await i(w());if(s.payload){const I=s.payload;d(I)}else console.log("L'azione \xE8 stata respinta o rifiutata");m(!1)}catch(s){console.error("Errore durante la chiamata:",s),m(!1)}})()},[i]);const C=async t=>{try{const s=await i(y(t));y.fulfilled.match(s)?(console.log("Success"),h()):console.log("AddCart action failed")}catch(s){console.log(s)}},j=async t=>{try{const s=await i(v(t));v.fulfilled.match(s)?(console.log("Success"),h()):console.log("RemoveCart action failed")}catch(s){console.log(s)}},h=async()=>{try{const t=await i(w());if(t.payload){const s=t.payload;d(s)}else console.log("The action was rejected or failed")}catch(t){console.error("Error during the call:",t)}},k=L();return N?e(b,{title:"cart shop",children:a(p,{className:"mt-5 d-flex align-items-center justify-content-center",style:{minHeight:"70vh"},children:[e(A,{grow:!0,children:e("span",{className:"visually-hidden",children:"Loading"})}),"  ",e("span",{className:"ms-3",children:"Loading"})]})}):a(b,{title:"Carrello | Prodotti salvati | w2c.space",children:[a(z,{children:[e("title",{children:"Carrello | Prodotti salvati | w2c.space"}),e("meta",{name:"description",content:"I tuoi elementi salvati su w2c.space per prodotti fidati su pandabuy"}),e("meta",{name:"keywords",content:"shopping cart, cart, checkout, w2c.space, saved, salvati, prodotti, pandabuy, finds, w2c, pandabuy finds, pandabuy prodotti"}),e("meta",{name:"author",content:"w2c.space"}),e("meta",{property:"og:title",content:"Shopping Cart"}),e("meta",{property:"og:description",content:"I tuoi elementi salvati su w2c.space per prodotti fidati su pandabuy"}),e("meta",{property:"og:image",content:"src/round.png"}),e("meta",{property:"og:url",content:"src/round.png"}),e("meta",{name:"twitter:card",content:"summary_large_image"}),e("meta",{name:"twitter:title",content:"Shopping Cart"}),e("meta",{name:"twitter:description",content:"I tuoi elementi salvati su w2c.space per prodotti fidati su pandabuy"}),e("meta",{name:"twitter:image",content:"src/round.png"})]}),e(p,{className:"mt-5",children:l.length===0?e("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"60vh"},children:a("div",{className:"section-title text-center",style:{margin:"auto",maxWidth:"600px"},children:[e("h2",{style:{fontWeight:"bold"},children:"Il tuo carrello \xE8 vuoto, vai ad aggiungere dei prodotti!"}),a("h3",{style:{fontWeight:"normal"},className:"mt-3",children:[e(u,{fas:!0,icon:"external-link-alt"}),e(D,{to:"/home",className:"mx-3",children:"Torna alla home"})]})]})}):a(q,{children:[a(x,{md:8,children:[e("br",{}),e("div",{className:"",style:{border:"none"},children:e(o,{className:"p-5 text-center shadow-1 w-100",style:{border:"none"},children:a("h2",{style:{fontWeight:"bold",color:"black"},children:[a("svg",{className:"me-5",width:"30",height:"30",xmlns:"http://www.w3.org/2000/svg",children:[e("image",{xlinkHref:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f31f.svg",className:"emoji",width:"30",height:"30"}),e("title",{children:"\u2B50\uFE0F"})]}),"Your saved items",a("svg",{className:"ms-5",width:"30",height:"30",xmlns:"http://www.w3.org/2000/svg",children:[e("image",{xlinkHref:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f31f.svg",className:"emoji",width:"30",height:"30"}),e("title",{children:"\u2B50\uFE0F"})]})]})})}),e("br",{}),e(r,{variant:"flush",children:l.map(t=>e(r.Item,{className:"cart-item p-2 p-md-4 mb-2",children:e(o,{className:"mb-3 hover-zoom zoom  shadow-2 pt-1 pb-1",children:a(g,{className:"d-flex justify-content-between align-items-center flex-wrap pe-3",children:[a("div",{className:"d-flex flex-row align-items-center me-3 mb-2 mb-md-0",children:[e("div",{children:e("a",{href:`/products/${t._id}`,target:"_blank",children:e(E,{src:t.image,fluid:!0,className:"rounded-3",style:{width:"65px"},alt:"Item image"})})}),a("div",{children:[e("a",{href:`/products/${t._id}`,target:"_blank",children:e(c,{tag:"h5",className:"ms-3 mb-2",children:t.name})}),e("p",{className:"small mb-0 ms-3",children:a("a",{href:t.pandabuy_url,target:"_blank",className:"p-1 w-full square rounded-2 pe-2  hover-zoom zoom",style:{color:"white",backgroundColor:"#332D2D"},children:[e(S,{size:20,className:"icons__cart me-0  text-white p-1 cursor-pointer"}),"Pandabuy.com"]})})]})]}),a("div",{className:"d-flex flex-row align-items-center ms-6 flex-wrap mb-md-0",children:[e("div",{className:"me-3 mb-2 mb-md-0",style:{width:"50px"},children:e(c,{tag:"h5",className:"fw-normal mb-0",children:t.qty})}),e("div",{className:"me-3 mb-2 mb-md-0",style:{minWidth:"80px"},children:e(c,{tag:"h5",className:"mb-0",children:f(t.price*t.qty)})}),a("div",{className:"d-flex flex-row align-items-center flex-wrap justify-content-end mb-2 mb-md-0",children:[e(H,{onClick:()=>C(t),size:24,style:{backgroundColor:"#14A44D"},className:"icons__cart m-2 rounded-circle text-white p-1 cursor-pointer"}),e(W,{size:24,style:{backgroundColor:"#DC4C64"},className:"icons__cart m-2 rounded-circle text-white p-1 cursor-pointer",onClick:()=>j(t)})]})]})]})})},t._id))})]}),e(x,{md:4,children:e(o,{className:"mb-6 shadow-4",children:a(g,{children:[a("h2",{className:"mb-3",style:{fontWeight:"bold"},children:["Cart",a("svg",{className:"ms-3",width:"30",height:"30",xmlns:"http://www.w3.org/2000/svg",children:[e("image",{xlinkHref:"https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/1f6d2.svg",className:"emoji",width:"30",height:"30"}),e("title",{children:"\u{1F6D2}"})]})]}),a(r,{variant:"flush",children:[a(r.Item,{as:"h2",children:["Subtotal (",l.reduce((t,s)=>t+s.qty,0)," items)"]}),a(r.Item,{className:"d-flex justify-content-between align-items-center",children:[e("span",{children:"Total Price:"}),e("span",{style:{fontWeight:"bold"},children:f(l.reduce((t,s)=>t+s.price*s.qty,0))})]}),e(r.Item,{className:"d-flex justify-content-between align-items-center",children:a(F,{className:"w-full text-white me-2",color:"dark",onClick:()=>k("/"),style:{maxHeight:"47px"},children:["Search items",e(u,{className:"ms-3",fas:!0,icon:"angle-right"})]})})]})]})})})]})})]})};export{X as default};
